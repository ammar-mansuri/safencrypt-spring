# Safencrypt

A cryptographic library that aims to ease down the process of symmetric encryption/decryption for the developers.

## Run Locally

Clone the project

```bash
  git clone https://link-to-project
```

Go to the project directory

```bash
  cd my-project
```

Install dependencies

```bash
  mvn clean install
```

## Notes

1. The library uses safe defaults for the creation of Initialization Vector (IV) during encryption, which is returned
   back to the user for further usage (decryption).
2. The default Algorithm of the library ,unless specified by the user, is
   AES_GCM_128_NoPadding. [Where 128 specifies the key length]

3. Enum class SymmetricAlgorithm contains a list of the algorithms that are supported currently by the library, provided
   that they are set as SECURE in the configuration file.

## Usage Examples [Symmetric Key Generation]

1. You want to geneate a symmetric key using the library defaults?

```java
SecretKey secretKey=KeyGenerator.generateSymmetricKey();
```

2. You want to geneate a symmetric key specifying an algorithm for which the you want to use the key?

```java
SecretKey secretKey=KeyGenerator.generateSymmetricKey(SymmetricAlgorithm.AES_GCM_128_NoPadding);
```

## Usage Examples [Symmetric Encryption/Decryption]

1. Case[All Defaults]: You want to encrypt/decrypt the data using the Safe Defaults from the library without worrying
   about the Safe Algorithm, Key?

```java
        byte[]plainText="Hello World".getBytes(StandardCharsets.UTF_8);

        SymmetricCipher symmetricCipher=
        SymmetricBuilder.encryption()
        .generateKey()
        .plaintext(plainText)
        .encrypt();

        SymmetricPlain symmetricPlain=
        SymmetricBuilder.decryption()
        .key(new SecretKeySpec(symmetricCipher.key(),getKeyAlgorithm(symmetricCipher.symmetricAlgorithm())))
        .iv(symmetricCipher.iv())
        .cipherText(symmetricCipher.ciphertext())
        .decrypt();
```

2. Case[Default Algorithm + Specifying Key]: You want to encrypt/decrypt the data using the Safe Default Algorithm from
   the library, but you want to specify the key yourself ?

Example 1: Using library Default Key Generation

```java
        SymmetricCipher symmetricCipher=
        SymmetricBuilder.encryption()
        .key(KeyGenerator.generateSymmetricKey())
        .plaintext(plainText)
        .encrypt();


        SymmetricPlain symmetricPlain=
        SymmetricBuilder.decryption()
        .key(new SecretKeySpec(symmetricCipher.key(),getKeyAlgorithm(symmetricCipher.symmetricAlgorithm())))
        .iv(symmetricCipher.iv())
        .cipherText(symmetricCipher.ciphertext())
        .decrypt();
```

Example 2: Using library Key Generation specifying an Algorithm

```java
        byte[]plainText="Hello World 121@#".getBytes(StandardCharsets.UTF_8);

        SymmetricCipher symmetricCipher=
        SymmetricBuilder.encryption()
        .key(KeyGenerator.generateSymmetricKey(SymmetricAlgorithm.AES_GCM_128_NoPadding))
        .plaintext(plainText)
        .encrypt();


        SymmetricPlain symmetricPlain=
        SymmetricBuilder.decryption()
        .key(new SecretKeySpec(symmetricCipher.key(),getKeyAlgorithm(symmetricCipher.symmetricAlgorithm())))
        .iv(symmetricCipher.iv())
        .cipherText(symmetricCipher.ciphertext())
        .decrypt();
```

3. Case[Specifying Algorithm + Default Key]: You want to encrypt/decrypt the data providing a specific Algorithm from
   the library, but you want to use the key generated by the library ?

```java
        byte[]plainText="1232F #$$^%$^ Hello World".getBytes(StandardCharsets.UTF_8);

        SymmetricCipher symmetricCipher=
        SymmetricBuilder.encryption(SymmetricAlgorithm.AES_GCM_256_NoPadding)
        .generateKey()
        .plaintext(plainText)
        .encrypt();

        SymmetricPlain symmetricPlain=
        SymmetricBuilder.decryption(symmetricCipher.symmetricAlgorithm())
        .key(new SecretKeySpec(symmetricCipher.key(),getKeyAlgorithm(symmetricCipher.symmetricAlgorithm())))
        .iv(symmetricCipher.iv())
        .cipherText(symmetricCipher.ciphertext())
        .decrypt();
```

4. Case[Specifying Algorithm + Specifying Key]: You want to encrypt/decrypt the data providing a specific Algorithm from
   the library and providing the Key ?

```java
        byte[]plainText="Hello World JCA WRAPPER".getBytes(StandardCharsets.UTF_8);
        SymmetricAlgorithm symmetricAlgorithm=SymmetricAlgorithm.AES_GCM_192_NoPadding;
        SecretKey secretKey=KeyGenerator.generateSymmetricKey(symmetricAlgorithm);

        SymmetricCipher symmetricCipher=
        SymmetricBuilder.encryption(symmetricAlgorithm)
        .key(secretKey)
        .plaintext(plainText)
        .encrypt();

        SymmetricPlain symmetricPlain=
        SymmetricBuilder.decryption(symmetricCipher.symmetricAlgorithm())
        .key(new SecretKeySpec(symmetricCipher.key(),getKeyAlgorithm(symmetricCipher.symmetricAlgorithm())))
        .iv(symmetricCipher.iv())
        .cipherText(symmetricCipher.ciphertext())
        .decrypt();
```

5. Case[AEAD]: You want to encrypt/decrypt the data using AES_GCM and also want to sepcify the Associated Data ?

```java
        byte[]plainText="Hello World JCA WRAPPER Using GCM With AEAD".getBytes(StandardCharsets.UTF_8);
        byte[]associatedData="I am associated data".getBytes(StandardCharsets.UTF_8);

        SymmetricCipher symmetricCipher=
        SymmetricBuilder.encryption(SymmetricAlgorithm.AES_GCM_128_NoPadding)
        .key(KeyGenerator.generateSymmetricKey(symmetricAlgorithm))
        .plaintext(plainText,associatedData)
        .encrypt();

        SymmetricPlain symmetricPlain=
        SymmetricBuilder.decryption(symmetricCipher.symmetricAlgorithm())
        .key(new SecretKeySpec(symmetricCipher.key(),getKeyAlgorithm(symmetricCipher.symmetricAlgorithm())))
        .iv(symmetricCipher.iv())
        .cipherText(symmetricCipher.ciphertext(),associatedData)
        .decrypt();
```

6. Case[AES_CBC]: You want to encrypt/decrypt the data using AES_CBC algorithm ?

```java
        byte[]plainText="TESTING CBC 128 With PKCS5 PADDING".getBytes(StandardCharsets.UTF_8);

        SymmetricCipher symmetricCipher=
        SymmetricBuilder.encryption(SymmetricAlgorithm.AES_CBC_128_PKCS5Padding)
        .generateKey()
        .plaintext(plainText)
        .encrypt();

        SymmetricPlain symmetricPlain=
        SymmetricBuilder.decryption(SymmetricAlgorithm.AES_CBC_128_PKCS5Padding)
        .key(new SecretKeySpec(symmetricCipher.key(),getKeyAlgorithm(symmetricCipher.symmetricAlgorithm())))
        .iv(symmetricCipher.iv())
        .cipherText(symmetricCipher.ciphertext())
        .decrypt();

```